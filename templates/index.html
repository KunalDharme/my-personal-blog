<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Watson's Blog</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="header-text">
     <h1>
      <span style="font-size: 30px; font-weight: normal; position: relative; top: -20px;">
        The Blog of
      </span>
      <span style="margin-left: 20px; font-size: 48px; font-weight: bold; font-family: Impact, 'Brush Script MT', cursive; color: #e6005c; text-shadow: 2px 2px 5px black; letter-spacing: 2px;">
        Mr. Kunal V. Dharme
      </span>
    </h1>
    <p style="margin-top: 13px; font-family: 'Brush Script MT', cursive; font-size: 22px; color: #ffffff;">
  From the Science of Digital Deduction
</p>

    </div>
    <div class="logo-container">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
    </div>
  </header>
  <nav class="main-nav">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="blog.html">Blogs</a></li>
    <li><a href="photos.html">Photos</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li id="help-link-wrapper">
      <a href="#" id="help-link">Help?</a>
      <div id="help-hover-modal">
        <h3>Help?</h3>
        <p>This website is a digital journal dedicated to cybersecurity, ethical hacking, and cyber forensic investigation. It documents real-world problems, cyber incidents, and suspicious digital activity that I personally investigate or analyze. Here, you‚Äôll find detailed blog posts where I break down how I identify, trace, and understand the methods used by cyber attackers ‚Äî including how I uncover hidden patterns, analyze digital evidence, and trace the origin of attacks using forensic tools and ethical hacking techniques.</p>
        <p> The content is crafted to raise awareness, educate readers, and demonstrate practical approaches to solving cyber threats ‚Äî whether it's a phishing attempt, unauthorized access, social engineering, or data leaks. If you‚Äôve been affected by a suspicious activity, you can reach out through the contact page to share your case. This platform is not just a showcase of findings, but a growing resource for anyone interested in understanding how cyber incidents are investigated and resolved responsibly, legally, and ethically.</p>
      </div>
    </li>
¬†¬†</ul>
  </nav>

  <div class="container">
    <aside class="sidebar">
      <img src="{{ url_for('static', filename='images/kunal.jpg') }}" class="profile-img" alt="Dr. Watson">
      <h2>I'am Kunal V. Dharme,</h2>
      <p>the world's only consulting investigator.Send me intresting cases only via: kunaldharme13@gmail.com</p>
    </aside>
<main class="blog-posts">
  {% for blog in blogs[:3] %}
  <article>
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h2 style="margin: 0;">
        <a href="{{ url_for('post', slug=blog.slug) }}">{{ blog.title }}</a>
      </h2>
      <div style="display: flex; align-items: center;">
        <button class="like-btn" onclick="toggleLike(this)" data-slug="{{ blog.slug }}" style="background: none; border: none; cursor: pointer; font-size: 18px;">‚ù§Ô∏è</button>
        <span class="like-count" id="like-count-{{ blog.slug }}" style="margin-left: 5px;">0</span>
      </div>
    </div>
    <p class="date">{{ blog.created_at.strftime('%B %d, %Y') }}</p>
    <p>{{ blog.content[:150] }}{% if blog.content|length > 150 %}...{% endif %}</p>

    <!-- Existing Comments -->
    <div class="comments-section">
      <h4>Comments:</h4>
      {% for comment in blog.comments if comment.approved %}
        <p><strong>{{ comment.name }}</strong>: {{ comment.text }}</p>
      {% else %}
        <p>No comments yet.</p>
      {% endfor %}
    </div>

    <!-- Toggle Comment Form Button -->
    <button onclick="toggleCommentForm('comment-form-{{ blog.id }}')" class="toggle-comment-btn">üí¨ Add Comment</button>

    <!-- Hidden Comment Form -->
    <form id="comment-form-{{ blog.id }}" action="{{ url_for('post', slug=blog.slug) }}" method="post" class="comment-form" style="display: none; margin-top: 10px;">
      <input type="text" name="name" placeholder="Your name" required>
      <textarea name="text" placeholder="Write your comment..." required></textarea>
      <button type="submit">Post Comment</button>
    </form>
  </article>
  {% else %}
  <p>No blog posts yet.</p>
  {% endfor %}
</main>


  </div>

  <footer>
    <p>&copy; 2025 Mr. Kunal V. Dharme. Not affiliated with BBC.</p>
  </footer>
  <script>
  function toggleCommentForm(formId) {
    const form = document.getElementById(formId);
    form.style.display = form.style.display === "none" ? "block" : "none";
  }

  function toggleLike(button) {
    const slug = button.getAttribute('data-slug');
    const countSpan = document.getElementById('like-count-' + slug);
    const storageKey = 'likes-' + slug;
    let liked = localStorage.getItem(storageKey) === 'true';
    liked = !liked;
    localStorage.setItem(storageKey, liked);

    let currentCount = parseInt(localStorage.getItem(storageKey + '-count')) || 0;
    if (liked) {
      button.classList.add('liked');
      button.textContent = '‚ù§Ô∏è';
      currentCount += 1;
    } else {
      button.classList.remove('liked');
      button.textContent = 'ü§ç';
      currentCount = Math.max(currentCount - 1, 0);
    }
    localStorage.setItem(storageKey + '-count', currentCount);
    countSpan.textContent = currentCount;
  }

  window.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.like-btn').forEach(button => {
      const slug = button.getAttribute('data-slug');
      const storageKey = 'likes-' + slug;
      const liked = localStorage.getItem(storageKey) === 'true';
      const count = parseInt(localStorage.getItem(storageKey + '-count')) || 0;

      if (liked) {
        button.classList.add('liked');
        button.textContent = '‚ù§Ô∏è';
      }

      const countSpan = document.getElementById('like-count-' + slug);
      if (countSpan) {
        countSpan.textContent = count;
      }
    });
  });
</script>

</body>
</html>
